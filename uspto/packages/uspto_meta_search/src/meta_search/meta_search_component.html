<!-- Components info: https://webdev.dartlang.org/components -->
<div>
  <material-input label="What do you want to search?"
                  autoFocus floatingLabel style="width:80%"
                  [(ngModel)]="queryStr"
                  (keyup.enter)="search()">
  </material-input>

  <material-fab mini raised
                (trigger)="search()"
                [disabled]="queryStr.isEmpty">
    <glyph icon="search"></glyph>
  </material-fab>

</div>

<p *ngIf="items.isEmpty && !searchFlag.isEmpty">
    Nothing to show! Search something above.
</p>

<div *ngIf="searchFlag.isEmpty">
    <material-spinner></material-spinner>
</div>

<div *ngIf="items.isNotEmpty">
    <material-tab-panel>
        <material-tab label="List">
            <div>
                <ul>
                    <li *ngFor="let item of items; let i=index">
                        <span><a href="{{item.link}}" target="_blank">{{item.number}}</a></span> | <span>{{item.title}}</span><br>
                        發明人:
                        <ul>
                            <li *ngFor="let inventor of item.inventors; let i=index">
                                {{inventor.name}} - {{inventor.company}}
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </material-tab>
        <material-tab label="Inventors">
            <ul>
                <li *ngFor="let inventor of inventtorPatentMap.keys">
                    發明人: {{inventor}}
                    <ul>
                        <li *ngFor="let company of inventtorPatentMap[inventor].keys">
                            公司: {{company}} : total {{inventtorPatentMap[inventor][company].length}} patents
                            <ul>
                                <li *ngFor="let number of inventtorPatentMap[inventor][company]; let idx=index">
                                    {{idx+1}}. {{numberTitleMap[number]}}
                                </li>
                            </ul>
                        </li>
                    </ul>
                    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                </li>
            </ul>
        </material-tab>
    </material-tab-panel>
</div>
